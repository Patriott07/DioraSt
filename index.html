<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <!-- font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Flamenco&family=Inter&family=Italiana&family=Josefin+Sans&family=Margarine&family=Martian+Mono&family=Megrim&family=Roboto+Mono:wght@500&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
        rel="stylesheet">
    <!-- bosstrap css -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>

<body>

    <div id="app">

        <button @click="testApi('jewelry')">klik</button>
        <div v-for="(data, index) in dataApi.data">
            <img :src="data.image" alt="">
            <p>{{ data.title }}</p>
        </div>
    </div>


    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"
        integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"
        integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13"
        crossorigin="anonymous"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://unpkg.com/axios@1.1.2/dist/axios.min.js"></script>

    <script>
        const app = Vue.createApp({
            data() {
                return {
                    form: {
                        kota: "",
                        provinsi: ""
                    },
                    toggle: {
                        rules: false
                    },
                    dataApi: {
                        url: "https://cuaca-gempa-rest-api.vercel.app/weather/",
                        data: [

                        ],
                        place: null,

                    },
                    dataTW: {
                        village: 15000,
                        city: 2000,
                        country: 67,
                        review: 20089
                    }
                }
            },
            methods: {

                testApi(req) {
                    const url = "data.json";
                    axios.get(url, {
                        params : {

                        }
                    }).then(response => {
                        console.log(response);
                    })
                },

                switchRule() {
                    this.toggle.rules = !this.toggle.rules;
                },
                getDataApi(kota, provinsi) {
                    this.form.kota = "";
                    this.form.provinsi = "";
                    var url = this.dataApi.url;
                    if (provinsi == "") {
                        alert("Asuu bukannya diisi provinsinya");
                    } else {
                        if (kota == "") {
                            url += provinsi
                        } else if (kota != "") {
                            url += provinsi + "/" + kota
                        }

                        axios.get(url, {
                            params: {

                            }
                        }).then((response) => {
                            if (kota != "") {
                                console.log(response);
                                this.dataApi.data = response.data.data.params[6].times;
                                console.log(this.dataApi.data);
                            }
                        }).catch(error => console.log("error : " + error));
                    }
                    //    axios.get()
                }
            },
            mounted() {

            }


        })

        app.mount('#app');
    </script>
</body>

</html>